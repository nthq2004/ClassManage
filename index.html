<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>分布式仿真系统</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://unpkg.com/konva@9/konva.min.js"></script>
</head>
<body>
    <div id="main-wrapper">
        <div id="sidebar">
            <div class="sidebar-header">
                <select id="classSelect" onchange="changeClass(this.value)"></select>
                <button id="demoBtn" class="demo-btn demo-off" onclick="toggleDemo()">演示模式</button>
            </div>
            <div id="student-list"></div>
        </div>
        <div id="main">
            <button id="fullscreen-btn" onclick="toggleFullscreen()" style="position:absolute; top:10px; right:10px; z-index:1000;">全屏</button>
            <div id="demo-mask"></div>
            <div id="container" style="width:100%; height:100%;"></div>
        </div>
    </div>

    <div id="reg-overlay">
        <div class="reg-box">
            <h3>仿真系统登录</h3>
            <select id="userRole" onchange="document.getElementById('st-inputs').classList.toggle('hide', this.value==='TEACHER'); document.getElementById('regInviteCode').classList.toggle('hide', this.value==='STUDENT');">
                <option value="STUDENT">我是学生</option>
                <option value="TEACHER">我是教师</option>
            </select>
            <div id="st-inputs">
                <input type="text" id="regClassName" placeholder="班级名称">
                <input type="text" id="regUserId" placeholder="我的学号">
            </div>
            <input type="password" id="regInviteCode" class="hide" placeholder="教师邀请码">
            <input type="text" id="regUserName" placeholder="真实姓名">
            <button onclick="handleLogin()" style="width:100%; padding:10px; margin-top:10px; background:#3498db; color:white; border:none; border-radius:4px;">进入系统</button>
        </div>
    </div>

    <script type="module" src="main.js"></script>
</body>
</html>