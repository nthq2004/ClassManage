<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>分布式仿真系统</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://unpkg.com/konva@9/konva.min.js"></script>
</head>
<body>
    <div id="main-wrapper">
        <div id="sidebar">
            <div class="sidebar-header">
                <select id="classSelect" onchange="window.changeClass(this.value)"></select>
                <button id="demoBtn" class="demo-btn demo-off" onclick="toggleDemo()">演示模式</button>
            </div>
            <div id="student-list"></div>
            <button class="logout-btn" onclick="logout()">注销并退出</button>
        </div>
        <div id="main">
            <div id="demo-mask"></div>
            <div id="container"></div>
        </div>
    </div>

    <div id="reg-overlay">
        <div class="reg-box">
            <h3 style="margin-top:0">仿真登录</h3>
            <select id="userRole" onchange="document.getElementById('st-inputs').classList.toggle('hide', this.value==='TEACHER')">
                <option value="STUDENT">学生</option>
                <option value="TEACHER">老师</option>
            </select>
            <div id="st-inputs">
                <input type="text" id="regClassName" placeholder="班级名称">
                <input type="text" id="regUserId" placeholder="学号/工号">
            </div>
            <input type="text" id="regUserName" placeholder="姓名">
            <button onclick="handleLogin()" style="width:100%; padding:12px; background:#3498db; color:white; border:none; border-radius:4px; font-weight:bold;">进入系统</button>
        </div>
    </div>
    <script type="module" src="main.js"></script>
</body>
</html>